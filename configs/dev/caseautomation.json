{
	"applicationName":"caseautomation",
	"events":[
		{
			"eventTrigger":"CreateCluster",
			"eventDescription":"Create a cluster",
			"eventFunction":"Execute-Runbook",
			"eventParams":[
				{"key":"runbookName","value":"Test-Create-HDISparkCluster"},
				{"key":"resourceGroupName","value":"CERRS-DEV-TEST-RG"},
				{"key":"automationAccount","value":"env-automationaccountname"},
 				{"key":"location","value":"env-location"},
 				{"key":"subscriptionId","value":"env-subscriptionid"},
 				{"key":"storageAccountName","value":"env-storageAccountName"},
 				{"key":"containerName","value":"env-clustercontainer"},
 				{"key":"clusterName","value":"env-clustername"},
				{"key":"outMessage","value":"ClusterCreated"},
				{"key":"pswrd","value":"env-clusterpassword"},
				{"key":"queueName","value":"env-listenerqueueName"}
			]
		},
		{
			"eventTrigger":"ClusterCreated",
			"eventDescription":"Create messages for parallel jobs",
			"eventFunction":"Initiate-Parallel-Requests",
			"eventParams":[
				{"key":"queuename","value":"testqueue"},
				{"key":"connectionstring","value":"env-AzureWebJobsStorage"},
				{"key":"storagekey","value":"env-storageaccountkey"},
				{"key":"storageaccountname","value":"env-storageAccountName"},
				{"key":"message","value":"StartFFMParquetConversion"}
			]
		},
		{
			"eventTrigger":"ExecuteRestAPI",
			"eventDescription":"Execute a Rest API",
			"eventFunction":"Execute-RestRequest",
			"eventParams":[
				{"key":"resturl","value":"https://mcr-cc.test.cognosante.cc/v1/AddressInfo"},
				{"key":"restMethod","value":"Get"},
				{"key":"getparams-street","value":"street=+509+Adams+Ave+Apt+1A+Cape+Canaveral+FL+32920"},
				{"key":"header-callingApp","value":"TestFramework"},
				{"key":"header-callingUser","value":"AutomationUser"},
				{"key":"header-x-cognosante-authentication","value":"6d5d56f7cf494134a96cc6910549341a"},
				{"key":"header-Authorization","value":"Basic eF9jb2dub3NhbnRlX2F1dGhlbnRpY2F0aW9uOjZkNWQ1NmY3Y2Y0OTQxMzRhOTZjYzY5MTA1NDkzNDFh"}
			]
		},
		{
			"eventTrigger":"StartCaseClassification",
			"eventDescription":"Case Classification",
			"eventFunction":"Initiate-Livy",
			"eventParams":[
				{"key":"mainfile","value":"CaseClassification.py"},
				{"key":"outMessage","value":"ClassificationCompleted"},
				{"key":"pyargs","value":"env-storageAccountName"},
				{"key":"pyargs","value":"env-storageaccountkey"},
				{"key":"pyargs","value":"env-endpoint"},
				{"key":"pyargs","value":"env-clustercontainer"},
				{"key":"pyargs","value":"env-listenerqueueName"},
				{"key":"pyargs","value":"hics_model.sav2"},
				{"key":"pyargs","value":"hicsArchive/"},
				{"key":"pyargs","value":"ClassificationOutput/"},
				{"key":"pyargs","value":"StartAndEndDateOutPut.csv"},
				{"key":"pyfiles","value":"functions.py"},
				{"key":"pyconf-spark.yarn.appMasterEnv.PYSPARK_PYTHON","value":"python2"}
			]
		},
		{
			"eventTrigger":"ClassificationCompleted",
			"eventDescription":"Data Extraction from FFM, 1095A and RCNO",
			"eventFunction":"Initiate-Livy",
			"eventParams":[
				{"key":"mainfile","value":"SparkTemp.py"},
				{"key":"outMessage","value":"DataExtractionCompleted"},
				{"key":"pyargs","value":"env-storageAccountName"},
				{"key":"pyargs","value":"env-storageaccountkey"},
				{"key":"pyargs","value":"env-endpoint"},
				{"key":"pyargs","value":"env-listenerqueueName"},
				{"key":"pyargs","value":"env-clustercontainer"},
				{"key":"pyargs","value":"caseoutput/"},
				{"key":"pyargs","value":"wasbs://cerrscablob@cerrscaseautomationdev.blob.core.usgovcloudapi.net//ClassificationOutput//StartAndEndDateOutPut.csv"},
				{"key":"pyargs","value":"wasbs://rcno-parquet@cerrscaseautomation.blob.core.usgovcloudapi.net//part*"},
				{"key":"pyargs","value":"wasbs://ffm-parquet@cerrscaseautomation.blob.core.usgovcloudapi.net//part*"},
				{"key":"pyargs","value":"wasbs://1095a-parquet@cerrscaseautomation.blob.core.usgovcloudapi.net//part*"},
				{"key":"pyargs","value":"Caseoutput.csv"},
				{"key":"pyfiles","value":"functions.py"},
				{"key":"pyconf-spark.yarn.appMasterEnv.PYSPARK_PYTHON","value":"python2"}
			]
		},
		{
			"eventTrigger":"ClusterStarted",
			"eventDescription":"Test Livy",
			"eventFunction":"Initiate-Livy",
			"eventParams":[
				{"key":"mainfile","value":"test.py"}
			]
		}
	]
}
